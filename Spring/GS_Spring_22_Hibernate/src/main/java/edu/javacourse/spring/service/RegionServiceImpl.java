package edu.javacourse.spring.service;import edu.javacourse.spring.dao.RegionDao;import edu.javacourse.spring.model.Region;import org.springframework.transaction.annotation.Propagation;import org.springframework.transaction.annotation.Transactional;// уровень БЛ@Transactional // не нужно вручную открывать/и закрывать тр-кцию, ею управляет спринг// то есть мы не вызываем Сессию, то есть не используем конкретную реализациюpublic class RegionServiceImpl implements RegionService {    RegionDao regionDao;    public void setRegionDao(RegionDao regionDao) {        this.regionDao = regionDao;    }    @Override    @Transactional // все вызовы к дао будут выполняться в одной транзакции    public Region createRegion(Region region) {        int id = regionDao.createRegion(region);        System.out.println("Region " + id + " : " + region.getName() + " created...");        return region;    }    @Override    public void deleteRegion(Region region) {        regionDao.deleteRegion(region);        System.out.println("Region " + region.getName() + " deleted...");    }    @Override    public Region getRegionByName(String name) {        return regionDao.getRegionByName(name);    }    @Override    @Transactional(readOnly = true, propagation = Propagation.REQUIRES_NEW)    public void readOnly(String name) {        // write operation        createRegion(new Region(name));        //read operation        regionDao.getRegionByName(name);    }}